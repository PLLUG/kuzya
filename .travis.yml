
dist: trusty
sudo: required
language: c++
git:
    submodules: false
      
before_install:
# Linux
- sudo apt-get install --reinstall ca-certificates
- sudo -E add-apt-repository ppa:beineri/opt-qt591-trusty -y
- sudo apt-get update -qq
- sudo apt-get install --force-yes -qq qt59base qt59tools libqt5scintilla210-dev
- sudo ln -s /usr/include/qt5/Qsci /opt/qt59/include/Qsci
- sudo ln -s /usr/share/qt5/mkspecs/features/qscintilla210.prf /opt/qt59/mkspecs/features/qscintilla210.prf     

script:
  - source /opt/qt59/bin/qt59-env.sh
  - qmake --version
  - which qmake
  - cd src
  - python generate.py -v 2.1.12
  - qmake "CONFIG+=release silent" 
  - make -j"$NPROC"
  - sudo make install
